<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:sec="http://www.springframework.org/security/facelets/tags"
	xmlns:util="http://java.sun.com/jsf/composite/components"
	xmlns:p="http://primefaces.org/ui">

	<ui:composition template="/templates/templatePrincipal.xhtml">
		<ui:define name="corpo">
			<h:form id="formCadastro" prependId="false">
				<c:set var="isCadastro" value="true" scope="view" />
				
				<p:panel header="Cadastro de Pessoa Física" id="panelCadastro">
					<p:panelGrid id="gridPessoaFisica" columns="3">
						<p:column>
							<p:row>
								<h:outputLabel id="labelId" 
											   for="id"
											   value="Código : " 
											   style="width:300px;" />
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:inputText id="id" 
											 styleClass="estiloPequeno0"
											 value="#{pessoaFisicaBeanView.objetoSelecionado.pfi_id}"
											 readonly="true" />
							</p:row>						
							<p:row>
								<h:outputLabel id="labelDataCadastro"
											   for="pfi_dataCadastro" 
											   value="Data do cadastro : "
											   style="padding-left: 20px;" />
							</p:row>						
						
					    	<p:inputText id="pfi_dataCadastro" 
					    				 readonly="true" 
					    				 styleClass="width: 150px;"
										 value="#{pessoaFisicaBeanView.objetoSelecionado.pfi_dataCadastro}">
								<f:convertDateTime locale="pt_BR" 
												   pattern="dd/MM/yyyy HH:mm:ss"
												   dateStyle="long" 
												   timeStyle="full" 
												   timeZone="GMT-03:00" />
							</p:inputText>						
						</p:column>
						
						<p:column />
						
						
						
<!--  											
						<p:column>
							<p:row>
								<h:outputLabel  id="labelNome"
												for="pfi_nome"
												value="Nome * : " />
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:inputText id="pfi_nome"
											 value="#{pessoaFisicaBeanView.objetoSelecionado.pfi_nome}"
											 required="true"
											 requiredMessage="Informe o campo nome da Pessoa Fisíca."
											 maxlength="100" 
											 styleClass="estiloGrande1"/>
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:message for="pfi_nome" />
							</p:row>
						</p:column>
												
-->
 

						<p:column>
							<p:row>
								<h:outputLabel value="CPF * : " 
											   id="labelCpf"
											   for="pfi_cpf"/>
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:inputMask id="pfi_cpf"
											 mask="999.999.999-99"
											 value="#{pessoaFisicaBeanView.objetoSelecionado.pfi_cpf}"
											 required="true"
											 requiredMessage="Informe o campo CPF"
											 maxlength="20" 
											 styleClass="estiloMedio0">
								</p:inputMask>
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:message for="pfi_cpf" />
							</p:row>
						</p:column>

						<p:column>
							<p:row>
								<h:outputLabel value="RG : " 
											   id="labelRg"
											   for="pfi_rg"/>
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:inputText id="pfi_rg"
											 value="#{pessoaFisicaBeanView.objetoSelecionado.pfi_rg}"
											 required="false"
											 maxlength="20" 
											 styleClass="estiloMedio0">
								</p:inputText>
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:message for="pfi_rg" />
							</p:row>
						</p:column>

						<p:column>
							<p:row>
								<h:outputLabel value="Data Nascimento : " 
											   id="labelDataNascimento"
											   for="pfi_dataNascimento"/>
							</p:row>
						</p:column>
						<p:column>
							<p:row>							
								<p:calendar id="pfi_dataNascimento"
											locale="pt"
											showButtonPanel="true" 
											showOn="button"
											styleClass="estiloMedio0" 
											pattern="dd/MM/yyyy" 
											navigator="true"
											value="#{pessoaFisicaBeanView.objetoSelecionado.pfi_dataNascimento}"
											required="false">
								</p:calendar>
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:message for="pfi_dataNascimento" />
							</p:row>
						</p:column>

						<p:column>
							<p:row>
								<h:outputLabel value="Foto : " 
											   id="labelFoto"
											   for="pfi_foto"/>
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:inputText id="pfi_foto"
											 value="#{pessoaFisicaBeanView.objetoSelecionado.pfi_foto}"
											 required="false"
											 maxlength="255" 
											 styleClass="estiloGrande1">
								</p:inputText>
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:message for="pfi_foto" />
							</p:row>
						</p:column>

						<p:column rendered="#{pessoaFisicaBeanView.objetoSelecionado.pfi_id != null}">
							<p:row>
								<h:outputLabel id="labelInativo" 
											   for="pfi_inativo" 
											   value="Inativo : "/>
							</p:row>
						</p:column>
						<p:column rendered="#{pessoaFisicaBeanView.objetoSelecionado.pfi_id != null}">
							<p:row>
								<p:selectBooleanCheckbox id="pfi_inativo"
														 value="#{pessoaFisicaBeanView.objetoSelecionado.pfi_inativo}" />
							</p:row>
						</p:column>
						<p:column rendered="#{pessoaFisicaBeanView.objetoSelecionado.pfi_id != null}">
							<p:row>
								<p:message for="pfi_inativo" />
							</p:row>
						</p:column>

					</p:panelGrid>
				</p:panel>

 				<div class="espacoBranco" />
 			
				<util:botoesCrud managedBeanView="#{pessoaFisicaBeanView}"
						  		 camposReload=":formTemplate:msg, tableResult"
								 botaoNovo = "#{contextoBean.possuiAcesso('CEO')}"
								 botaoSalvar = "#{contextoBean.possuiAcesso('CEO') and pessoaFisicaBeanView.objetoSelecionado.pfi_id == null}"
								 botaoAtualizar = "#{contextoBean.possuiAcesso('CEO') and pessoaFisicaBeanView.objetoSelecionado.pfi_id != null}"
								 botaoExcluir = "#{contextoBean.possuiAcesso('CEO')}"/>					
			</h:form>
			
			<script type="text/javascript" charset="UTF-8">
				addFocoAoCampo('pfi_cpf');
				gerenciaTeclaEnter();
			</script>

			<div class="espacoBranco" />

			<p:dataTable id="tableResult" 
						 value="#{pessoaFisicaBeanView.list}" 
						 rendered="#{pessoaFisicaBeanView.list.list.size() > 0}"
						 var="objeto" 
						 rows="10" 
						 paginatorPosition="bottom" 
						 paginator="true"
						 emptyMessage="Não existem usuários para exibição." 
						 lazy="true"
						 paginatorTemplate=" {FirstPageLink}
						  			   	     {PreviousPageLink} 
						  			   	     {PageLinks} 
	 							   			 {NextPageLink} 
	 							   			 {LastPageLink} 
	 							   			 {RowsPerPageDropdown}">
				<ui:include
					src="/resources/components/colunasDataTablePessoaFisica.xhtml" />
			</p:dataTable>
		
	</ui:define>
</ui:composition>
</html>